# rosidl_generator_type_hash

This generator serializes ROS 2 interface descriptions (message, service, action) to a common format and uses SHA256 to hash that representation into a unique hash for each type.

The SHA256 hashes generated by this package must match those generated by `rcl_calculate_type_version_hash`. The `.json` files generated must, therefore, match the result of `rcl_type_description_to_hashable_json`.

## Generated files

This generator creates the following output files from parsed IDL interface descriptions:

* `interface_type.sha256.json`
* `interface_type.in.json`
* `interface_type.json`

See the schema files for an exact description for the contents of the generated files.

### `.sha256.json`

**Schema**: [TypeVersionHash](./resource/TypeVersionHash.schema.json)

The true output of the generator, containing hashes for top-level interface and sub-interfaces if any are present, to be consumed by code generators.

The remaining generated files are intermediate artifacts that lead to the output hashes.

### `.json`

**Schema**: [TypeDescription](./resource/TypeDescription.schema.json)

The fully-expanded serialized equivalent of `type_description_interfaces/msg/TypeDescription`, whose contents are hashed.

NOTE: `.json` contents must have all whitespace stripped before hashing. This package generates json without whitespace, including having no trailing newline.

### `.in.json`

**Schema**: [TypeDescriptionIn](./resource/TypeDescriptionIn.schema.json)

The `IndividualTypeDescription`-equivalent serialization, and a list of referenced `.in.json` files to be used when expanding to `.json`. This file is used by dependent interfaces, especially in dependent packages, when expanding to `.json` so IDL files must only be parsed a single time when running the generator on their own package.
