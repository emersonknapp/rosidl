{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "TypeVersionHash.schema.json",
  "title": "TypeVersionHash",
  "description": "A tree of hashes (and sub-hashes) for ROS 2 interfaces",
  "type": "object",
  "$defs": {
    "message": {
      "type": "object",
      "properties": {
        "message": { "type": "string" }
      },
      "required": [ "message" ],
      "additionalProperties": false
    },
    "service": {
      "type": "object",
      "properties": {
        "service": { "type": "string" },
        "request_message": { "$ref": "#/$defs/message" },
        "response_message": { "$ref": "#/$defs/message" },
        "event_message": { "$ref": "#/$defs/message" }
      },
      "required": [
        "service",
        "request_message",
        "response_message",
        "event_message"
      ],
      "additionalProperties": false
    },
    "action": {
      "type": "object",
      "properties": {
        "action": { "type": "string" },
        "goal": { "$ref": "#/$defs/message" },
        "result": { "$ref": "#/$defs/message" },
        "feedback": { "$ref": "#/$defs/message" },
        "send_goal_service": { "$ref": "#/$defs/service" },
        "get_result_service": { "$ref": "#/$defs/service" },
        "feedback_message": { "$ref": "#/$defs/message" }
      },
      "required": [
        "action",
        "goal",
        "result",
        "feedback",
        "send_goal_service",
        "get_result_service",
        "feedback_message"
      ],
      "additionalProperties": false
    }
  },
  "oneOf": [
    { "$ref": "#/$defs/message" },
    { "$ref": "#/$defs/service" },
    { "$ref": "#/$defs/action" }
  ]
}
